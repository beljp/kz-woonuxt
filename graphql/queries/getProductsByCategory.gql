query GetProductsByCategory($slug: ID!, $first: Int = 24) {
  productCategory(id: $slug, idType: SLUG) {
    name
    slug
    description
    products(first: $first) {
      nodes {
        id
        databaseId
        slug
        name

        image {
          sourceUrl
          altText
        }

        productCategories {
          nodes {
            id
            name
            slug
          }
        }

        # ✅ Inline fragment voor prijs en voorraad
        ... on SimpleProduct {
          price
          regularPrice
          salePrice
          stockStatus
        }

        # ✅ Inline fragment voor attributen (kleur, maat, etc.)
        ... on ProductWithAttributes {
          attributes {
            nodes {
              label
              options
            }
          }
        }
      }
    }
  }
}
