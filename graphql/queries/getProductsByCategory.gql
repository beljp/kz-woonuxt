query GetProductsByCategory($slug: ID!, $first: Int = 24) {
  productCategory(id: $slug, idType: SLUG) {
    id
    name
    slug
    description

    # ðŸ§­ Breadcrumbs (van boven naar beneden)
    ancestors {
      nodes {
        id
        name
        slug
      }
    }

    # ðŸ§© Parent (voor siblings / bovenliggende categorie)
    parent {
      node {
        id
        name
        slug
      }
    }

    # ðŸ§± SubcategorieÃ«n (directe children, met nested children)
    children {
      nodes {
        id
        name
        slug
        count

        # ðŸ”¹ 1 niveau dieper voor sub-subcategorieÃ«n
        children {
          nodes {
            id
            name
            slug
            count
          }
        }
      }
    }

    # ðŸ›’ Producten binnen deze categorie
    products(first: $first) {
      nodes {
        id
        databaseId
        slug
        name

        image {
          sourceUrl
          altText
        }

        productCategories {
          nodes {
            id
            name
            slug
          }
        }

        # ðŸ’° Prijs + voorraad
        ... on SimpleProduct {
          price
          regularPrice
          salePrice
          stockStatus
        }

        # ðŸŽ¨ Attributen
        ... on ProductWithAttributes {
          attributes {
            nodes {
              label
              options
            }
          }
        }
      }
    }
  }
}
